---

title: Manage cell data

keywords: fastai
sidebar: home_sidebar

summary: "Create cells from source data"
description: "Create cells from source data"
nb_path: "nbs/08_cell_data.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/08_cell_data.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cd</span><span class="o">.</span><span class="n">cells</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>t</th>
      <th>tw</th>
      <th>e</th>
      <th>n</th>
      <th>w</th>
      <th>S</th>
      <th>B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.5</td>
      <td>1.0</td>
      <td>43.05</td>
      <td>80</td>
      <td>[0.02056350307760857, 0.8572112535483233, 0.03...</td>
      <td>43.55</td>
      <td>44.11</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>85</td>
      <td>[0.7234893865589731, 0.8971778544707507, 0.035...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>100</td>
      <td>[0.5907503638380641, 0.010636011493264874, 0.7...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>78</td>
      <td>[0.676445412980866, 0.8967477271533848, 0.0246...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>92</td>
      <td>[0.730047094132942, 0.9017834790617738, 0.7431...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>97</td>
      <td>[0.0014921033188736166, 0.8776657409616281, 0....</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>80</td>
      <td>[0.8943220989116034, 0.8871924347361281, 0.006...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>7</th>
      <td>7.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>98</td>
      <td>[0.6459469074470687, 0.6783546829683329, 0.020...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>8</th>
      <td>8.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>82</td>
      <td>[0.7860848105412201, 0.07277016472131193, 0.82...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>9</th>
      <td>9.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>86</td>
      <td>[0.21316258529143461, 0.887943417391853, 0.695...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>10</th>
      <td>10.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>99</td>
      <td>[0.9055419244594333, 0.6779678709715369, 0.842...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>11</th>
      <td>11.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>107</td>
      <td>[0.004422332117199224, 0.014356339257487694, 0...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>12</th>
      <td>12.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>95</td>
      <td>[0.89801292399164, 0.006648248432092108, 0.693...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>13</th>
      <td>13.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>78</td>
      <td>[0.7863801657197178, 0.019289740973485126, 0.8...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>14</th>
      <td>14.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>91</td>
      <td>[0.24172099215394216, 0.7688854822054612, 0.66...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>15</th>
      <td>15.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>87</td>
      <td>[0.8992862354243452, 0.0007689885830011178, 0....</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>16</th>
      <td>16.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>85</td>
      <td>[0.6630082896591332, 0.04324189082063501, 0.63...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>17</th>
      <td>17.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>84</td>
      <td>[0.6424280527773741, 0.6081769606230957, 0.002...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>18</th>
      <td>18.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>77</td>
      <td>[0.37342814630058907, 0.1612611027343459, 0.24...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>19</th>
      <td>19.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>110</td>
      <td>[0.7353825654957988, 0.5475182616303977, 0.246...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>20</th>
      <td>20.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>84</td>
      <td>[0.7158977623082601, 0.8574340099942651, 0.888...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>21</th>
      <td>21.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>87</td>
      <td>[0.81112234324545, 0.9077975225344126, 0.00317...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>22</th>
      <td>22.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>79</td>
      <td>[0.8319910268786034, 0.003914240979391859, 0.8...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>23</th>
      <td>23.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>94</td>
      <td>[0.05789495676328116, 0.8757111853785734, 0.38...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>24</th>
      <td>24.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>99</td>
      <td>[0.7765745974744347, 0.8983130827955887, 0.880...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>25</th>
      <td>25.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>81</td>
      <td>[0.813319061715073, 0.09361554123131832, 0.019...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>26</th>
      <td>26.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>79</td>
      <td>[0.12169487560173065, 0.0008799460156593275, 0...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>27</th>
      <td>27.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>69</td>
      <td>[0.6275160929553806, 0.7756870622589042, 0.000...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>28</th>
      <td>28.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>95</td>
      <td>[0.12121514572353176, 0.7348821409783743, 0.88...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
    <tr>
      <th>29</th>
      <td>29.5</td>
      <td>1.0</td>
      <td>43.20</td>
      <td>81</td>
      <td>[0.906131301698059, 0.9009238922538974, 0.0161...</td>
      <td>43.70</td>
      <td>44.27</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CellData" class="doc_header"><code>class</code> <code>CellData</code><a href="https://github.com/tburnett/wtlike/tree/master/wtlike/cell_data.py#L15" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CellData</code>(<strong>*<code>pars</code></strong>, <strong>**<code>kwargs</code></strong>) :: <a href="/wtlikesource_data#SourceData"><code>SourceData</code></a></p>
</blockquote>
<p>Manage a set of cells generated from a data set</p>
<p>Invoke superclass to load photon data and exposure for the source.</p>
<ul>
<li>time_bins, default config.time_bins</li>
</ul>
<p>Note that the <code>e</code>  cell entry is the actual exposure for the cell in units $cm^2\ s$, times $10^{-6}$.</p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CellData.view" class="doc_header"><code>CellData.view</code><a href="https://github.com/tburnett/wtlike/tree/master/wtlike/cell_data.py#L100" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>CellData.view</code>(<strong><code>newbins</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Return a "view": a new instance of this class with a perhaps a different set of cells</p>
<ul>
<li>newbins -- a tuple (start, stop, step) to define new binning.<ul>
<li>start and stop are either MJD values, or offsets from the start or stop.</li>
<li>step -- the cell size in days, or if zero, orbit-based binning</li>
</ul>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="concatenate_cells" class="doc_header"><code>concatenate_cells</code><a href="https://github.com/tburnett/wtlike/tree/master/wtlike/cell_data.py#L160" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>concatenate_cells</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Combine a group of cells to one</p>
<ul>
<li>cells: dataframe with cells containing  n, w, S, B<br>
<pre><code>  Optionally, if $t$ is present, generate t and tw
</code></pre>
Return a dict with summed n, S, B, and concatenated w</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="partition_cells" class="doc_header"><code>partition_cells</code><a href="https://github.com/tburnett/wtlike/tree/master/wtlike/cell_data.py#L178" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>partition_cells</code>(<strong><code>config</code></strong>, <strong><code>cells</code></strong>, <strong><code>edges</code></strong>)</p>
</blockquote>
<p>Partition a set of cells</p>
<ul>
<li>cells -- A DataFrame of cells</li>
<li>edges  -- a list of edge times delimiting boundaries between cells</li>
</ul>
<p>Returns a DataFrame of combined cells, with times and widths adjusted to account for missing cells</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

