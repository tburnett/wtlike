---

title: Source Data management

keywords: fastai
sidebar: home_sidebar

summary: "Extract data for a source"
description: "Extract data for a source"
nb_path: "nbs/03_source_data.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_source_data.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Overview">Overview<a class="anchor-link" href="#Overview"> </a></h3><p>Given a point source, the class <a href="/wtlikesource_data#SourceData"><code>SourceData</code></a> manages all data-oriented operations, providing all that is necessary to create a set of cells. It depends on the modules</p>
<ul>
<li><p><a href="/wtlikeconfig"><code>config</code></a> 
  This must set up the paths to the data created by <a href="/wtlikedata_man"><code>data_man</code></a>, and define paths for the effective area and weight files</p>
</li>
<li><p>effective_area</p>
</li>
<li>weights</li>
</ul>
<p>It implements <code>binned_exposure</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Check-exposure-with-last-data-file">Check exposure with last data file<a class="anchor-link" href="#Check-exposure-with-last-data-file"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">ff</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inp</span><span class="p">:</span>
        <span class="n">week</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span>
        <span class="n">wk</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="o">-</span><span class="mi">7</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span>
        <span class="n">wk_start</span> <span class="o">=</span> <span class="n">week</span><span class="p">[</span><span class="s1">&#39;tstart&#39;</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="mi">24</span><span class="o">*</span><span class="mi">3600</span><span class="p">)</span><span class="o">-</span><span class="mf">386.44</span>
        <span class="n">z</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">wk</span><span class="p">,</span> <span class="n">wk_start</span><span class="p">]))</span>

<span class="n">z</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">z</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([9.        , 9.65361276]), array([673.        , 672.99321925]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">z</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">z</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">z</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;.&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="test-photon-data">test photon data<a class="anchor-link" href="#test-photon-data"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="time_bin_edges" class="doc_header"><code>time_bin_edges</code><a href="https://github.com/tburnett/wtlike/tree/master/wtlike/source_data.py#L162" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>time_bin_edges</code>(<strong><code>config</code></strong>, <strong><code>exposure</code></strong>, <strong><code>tbin</code></strong>=<em><code>(0, 0, 1)</code></em>)</p>
</blockquote>
<p>Return an array of equally-spaced edges</p>
<p>tbin: an array (a,b,d), default config.time_bins</p>
<p>interpretation of a, b:</p>

<pre><code>if &gt; 5000, interpret as MJD
if &lt;0, back from stop
otherwise, offset from start</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">exposure</span> <span class="o">=</span> <span class="n">e_df</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time_bin_edges</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">exposure</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time_bin_edges</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">exposure</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time_bin_edges</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">exposure</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time_bin_edges</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">exposure</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.25</span><span class="p">))</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time_bin_edges</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">exposure</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mf">0.25</span><span class="p">))</span> <span class="p">)</span>   
<span class="nb">print</span><span class="p">(</span><span class="n">time_bin_edges</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">exposure</span><span class="p">,</span> <span class="p">(</span><span class="mi">59326</span><span class="p">,</span> <span class="mi">59330</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span> <span class="p">)</span>    
 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[59326. 59327. 59328. 59329. 59330. 59331. 59332. 59333.]
[59326.  59326.5 59327.  59327.5 59328.  59328.5 59329.  59329.5 59330.
 59330.5 59331.  59331.5 59332.  59332.5 59333. ]
[59328. 59330. 59332.]
[59326.   59326.25 59326.5  59326.75 59327.  ]
[59328.   59328.25 59328.5  59328.75 59329.  ]
[59326.  59326.5 59327.  59327.5 59328.  59328.5 59329.  59329.5 59330. ]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="SourceData" class="doc_header"><code>class</code> <code>SourceData</code><a href="https://github.com/tburnett/wtlike/tree/master/wtlike/source_data.py#L250" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>SourceData</code>(<strong><code>source_name</code></strong>, <strong><code>config</code></strong>=<em><code>None</code></em>, <strong><code>source</code></strong>=<em><code>None</code></em>, <strong><code>clear</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Load the photon data near the source and associated exposure.</p>
<p>Either from:</p>
<ol>
<li><code>config.wtlike_data/'data_files'</code>, the Path to folder with list of pickle files with weekly or monthly data</li>
<li>the cache, with key <code>{source.name}_data</code></li>
</ol>
<ul>
<li>source_name : if specified, create a PointSource object</li>
<li><a href="/wtlikeconfig"><code>config</code></a> : basic configuration</li>
<li><code>source</code> : PointSource object if specified</li>
<li><code>clear</code> : if set, overwrite the cached results</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Test-a-single-week">Test a single week<a class="anchor-link" href="#Test-a-single-week"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># sd2 = SourceData(config2, source, clear=True); </span>
<span class="c1"># sd2.plot()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Test-extracting-full-dataset">Test extracting full dataset<a class="anchor-link" href="#Test-extracting-full-dataset"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Development of code to summarize cos theta</p>

</div>
</div>
</div>
</div>
 

